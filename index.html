<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamTube Pro - No Key Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #0f0f0f; color: white; scroll-behavior: smooth; }
        .yt-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        .video-card img { transition: 0.3s; border-radius: 12px; }
        .video-card:hover img { border-radius: 0px; }
        .sidebar-item { transition: 0.2s; cursor: pointer; display: flex; align-items: center; gap: 20px; padding: 10px; border-radius: 10px; }
        .sidebar-item:hover { background-color: #272727; }
        #player-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 1000; flex-direction: column; align-items: center; justify-content: center; }
    </style>
</head>
<body>

    <nav class="flex justify-between items-center px-4 py-2 sticky top-0 bg-[#0f0f0f] z-50">
        <div class="flex items-center gap-4">
            <button class="p-2 hover:bg-zinc-800 rounded-full"><i class="fas fa-bars text-xl"></i></button>
            <div class="flex items-center gap-1 text-red-600 cursor-pointer" onclick="location.reload()">
                <i class="fab fa-youtube text-3xl"></i>
                <span class="text-white font-bold text-xl tracking-tighter">TubeFlow</span>
            </div>
        </div>

        <div class="flex flex-1 max-w-2xl mx-10">
            <div class="flex w-full bg-[#121212] border border-zinc-700 rounded-full overflow-hidden focus-within:border-blue-500">
                <input type="text" id="search" placeholder="Suchen" class="w-full bg-transparent px-5 py-2 outline-none">
                <button onclick="performSearch()" class="bg-zinc-800 px-6 border-l border-zinc-700 hover:bg-zinc-700">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <div class="flex items-center gap-4">
            <i class="fas fa-video p-2 hover:bg-zinc-800 rounded-full cursor-pointer"></i>
            <i class="fas fa-bell p-2 hover:bg-zinc-800 rounded-full cursor-pointer"></i>
            <div class="w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center font-bold">U</div>
        </div>
    </nav>

    <div class="flex">
        <aside class="w-64 p-3 hidden lg:block sticky top-14 h-[calc(100vh-56px)]">
            <div class="sidebar-item bg-zinc-800"><i class="fas fa-house"></i> <span>Home</span></div>
            <div class="sidebar-item"><i class="fas fa-bolt"></i> <span>Shorts</span></div>
            <div class="sidebar-item border-b border-zinc-800 pb-4"><i class="fas fa-layer-group"></i> <span>Abos</span></div>
            <div class="mt-4 sidebar-item"><i class="fas fa-clock-rotate-left"></i> <span>Verlauf</span></div>
            <div class="sidebar-item"><i class="fas fa-thumbs-up"></i> <span>Mag ich</span></div>
        </aside>

        <main class="flex-1 p-5">
            <div id="results-label" class="mb-4 text-xl font-bold">Empfohlen</div>
            <div id="videoGrid" class="yt-grid">
                <div class="col-span-full text-center py-20 bg-zinc-900 rounded-3xl border border-dashed border-zinc-700">
                    <h2 class="text-2xl font-bold mb-4">Bereit zum Streamen?</h2>
                    <p class="text-zinc-400 mb-6">Gib oben einen Suchbegriff oder eine Video-ID ein.</p>
                    <button onclick="demoLoad()" class="bg-white text-black px-6 py-2 rounded-full font-bold">Demo laden</button>
                </div>
            </div>
        </main>
    </div>

    <div id="player-overlay">
        <button onclick="closePlayer()" class="absolute top-5 right-10 text-4xl hover:text-red-500">&times;</button>
        <div class="w-full max-w-6xl aspect-video shadow-2xl">
            <iframe id="main-player" width="100%" height="100%" src="" frameborder="0" allowfullscreen allow="autoplay"></iframe>
        </div>
        <div id="player-info" class="mt-6 w-full max-w-6xl px-4">
            <h1 id="player-title" class="text-2xl font-bold">Video Titel</h1>
        </div>
    </div>

    <script>
        // Da wir keinen API-Key haben, nutzen wir eine öffentliche Bridge oder ID-Parsing
        function performSearch() {
            const query = document.getElementById('search').value;
            if(!query) return;

            document.getElementById('results-label').innerText = `Ergebnisse für "${query}"`;
            
            // Ohne API-Key simulieren wir die Suche durch die YouTube-Suchen-Seite in einem kleinen Trick:
            // Wir generieren Video-Cards, die auf die ID-Extraktion basieren.
            // Da echtes Scraping im Browser wegen CORS nicht geht, zeigen wir hier, wie du IDs direkt nutzt:
            
            const grid = document.getElementById('videoGrid');
            grid.innerHTML = `<p class="col-span-full text-zinc-500">Suche wird gestartet... (Tipp: Gib eine YouTube URL ein, um sie direkt zu laden)</p>`;
            
            // Wenn der User eine URL eingibt, laden wir sie direkt
            if(query.includes("youtube.com") || query.includes("youtu.be")) {
                const id = extractId(query);
                openPlayer(id, "Dein Stream");
            } else {
                // Fallback: Da wir keinen Key haben, leiten wir hier auf eine Keyless Suche um
                // oder zeigen dem User, wie man IDs nutzt.
                grid.innerHTML = `
                    <div class="col-span-full p-10 bg-red-900/20 border border-red-500 rounded-xl">
                        Kein API-Key vorhanden. Du kannst hier Video-IDs oder URLs einfügen.<br>
                        Beispiel: <b>dQw4w9WgXcQ</b>
                    </div>
                `;
            }
        }

        function extractId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : url;
        }

        function demoLoad() {
            const demoVideos = [
                {id: 'dQw4w9WgXcQ', title: 'Rick Astley - Never Gonna Give You Up', channel: 'Rick Astley'},
                {id: 'jNQXAC9IVRw', title: 'Me at the zoo', channel: 'jawed'},
                {id: '9bZkp7q19f0', title: 'PSY - GANGNAM STYLE', channel: 'officialpsy'}
            ];
            
            const grid = document.getElementById('videoGrid');
            grid.innerHTML = '';
            
            demoVideos.forEach(v => {
                grid.innerHTML += `
                    <div class="video-card cursor-pointer" onclick="openPlayer('${v.id}', '${v.title}')">
                        <img src="https://img.youtube.com/vi/${v.id}/maxresdefault.jpg" class="w-full mb-3">
                        <div class="flex gap-3">
                            <div class="w-10 h-10 bg-zinc-800 rounded-full flex-shrink-0"></div>
                            <div>
                                <h3 class="font-bold line-clamp-2">${v.title}</h3>
                                <p class="text-zinc-400 text-sm">${v.channel}</p>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        function openPlayer(id, title) {
            document.getElementById('main-player').src = `https://www.youtube.com/embed/${id}?autoplay=1`;
            document.getElementById('player-title').innerText = title;
            document.getElementById('player-overlay').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closePlayer() {
            document.getElementById('player-overlay').style.display = 'none';
            document.getElementById('main-player').src = '';
            document.body.style.overflow = 'auto';
        }

        function extractId(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : url;
        }
    </script>
</body>
</html>


